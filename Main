package generate;

import java.nio.file.Path;
import java.nio.file.Paths;
import java.util.Scanner;

public class IBAN_main {
	static String currentPath = System.getProperty("user.dir");

	/**
	 * Press 1 - print IBAN list
	 * Press 2 - generate own IBAN
	 * Press 3 - convert IBAN list
	 * Press 4 - generate accounts list (random 7)
	 * 
	 * @param args
	 */
	public static void main(String[] args) {
		IBANGen gen = new IBANGen();
		Scanner in = new Scanner(System.in);
		System.out.println("Choose: ");
		System.out.println("Press 1 - generate own IBAN");
		System.out.println("Press 2 - convert IBAN list");
		System.out.println("Press 3 - generate accounts list (r)");
		String menu = in.nextLine();

		if (menu.contains("1")) {
			System.out.print("Insert MFO = ");
			String MFO = in.nextLine();
			System.out.print("Insert account number = ");
			String account = in.nextLine();

			while (!gen.keying(MFO, account)){
				System.out.println("Keying wrong!");
				System.out.println("Insert account number = ");
				account = in.nextLine();
				gen.keying(MFO, account);
			};
			System.out.print("Insert ISO country code = ");
			String countryCode = in.nextLine();
			gen.getIBAN(MFO, account, countryCode);
			
		} else if (menu.contains("2")) {
			System.out.println("Create file 'iban.txt' near this app.");
			System.out.println("File name must be 'iban.txt'");
			System.out.println("Insert mfo");
			String mfo = in.nextLine();
			Path path = Paths.get(currentPath + "/iban.txt");
			gen.convert(path, mfo);
			
		} else if (menu.contains("3")) {
			System.out.print("How much accounts is needed to generate: ");
			String length = in.nextLine();
			System.out.println("Generate list in IBAN format? (y\\n)");
			String isIban = in.nextLine();
			System.out.print("Insert MFO = ");
			String MFO = in.nextLine();
			
			if (isIban.contains("y")) gen.generateAccNumbers(length, true, MFO);
			else gen.generateAccNumbers(length, false, MFO);
		}
	}
}
